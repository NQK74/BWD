<!doctype html>
<html lang="vi">
<head>
  <title>Đăng nhập - Quảng Bá Văn Hóa Việt</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Hệ thống đăng nhập và đăng ký cho ứng dụng Quảng Bá Văn Hóa Việt Nam">
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.9/css/unicons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    /* Custom styles for better UX */
    .error-message {
      color: #dc3545;
      font-size: 0.875rem;
      margin-top: 0.25rem;
      display: none;
    }
    
    .success-message {
      color: #28a745;
      font-size: 0.875rem;
      margin-top: 0.25rem;
      display: none;
    }
    
    .form-group {
      position: relative;
      margin-bottom: 1rem;
    }
    
    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .loading-spinner {
      display: none;
      margin-left: 10px;
    }    /* Remove the display: none to show forms */
    
    
  </style>
</head>
<body>
  <div class="section">
    <div class="container">
      <div class="row full-height justify-content-center">
        <div class="col-12 text-center align-self-center py-5">
          <div class="section pb-5 pt-5 pt-sm-2 text-center">
            <h6 class="mb-0 pb-3"><span>Đăng Nhập </span><span>Đăng Ký</span></h6>
            <input class="checkbox" type="checkbox" id="reg-log" name="reg-log"/>
            <label for="reg-log"></label>
            <div class="card-3d-wrap mx-auto">
              <div class="card-3d-wrapper">                <div class="card-front" id="login-form">
                  <div class="center-wrap">
                    <div class="section text-center" >
                      <h4 class="mb-4 pb-3">Đăng Nhập</h4>


                      <div class="form-group">
                        <input type="email" class="form-style" id="login-email" placeholder="Email" required>
                        <i class="input-icon uil uil-at"></i>
                        <div class="error-message" id="login-email-error"></div>
                      </div>  
                      
                      <div class="form-group mt-2">
                        <input type="password" class="form-style" id="login-password" placeholder="Mật khẩu" required>
                        <i class="input-icon uil uil-lock-alt"></i>
                        <div class="error-message" id="login-password-error"></div>
                      </div>
                      
                      <div class="success-message" id="login-success"></div>
                      <div class="error-message" id="login-error"></div>
                      
                      <a href="#" class="btn mt-4" onclick="loginUser()" id="login-btn">
                        Đăng Nhập
                        <div class="loading-spinner">
                          <i class="uil uil-spinner uil-spin"></i>
                        </div>
                      </a>
                        <p class="mb-0 mt-4 text-center">
                        <a href="index.html" class="link">Quên mật khẩu?</a>
                      </p>
                    </div>
                  </div>
                </div>                  
                <div class="card-back" id="register-form">
                  <div class="center-wrap">
                    <div class="section text-center">
                      <h4 class="mb-3 pb-3">Đăng Ký</h4>
                        <div class="form-group">
                        <input type="text" class="form-style" id="reg-fullname" placeholder="Họ và tên" required>
                        <i class="input-icon uil uil-user"></i>
                        <div class="error-message" id="reg-fullname-error"></div>
                      </div>  
                      
                      <div class="form-group mt-2">
                        <input type="email" class="form-style" id="reg-email" placeholder="Email" required>
                        <i class="input-icon uil uil-at"></i>
                        <div class="error-message" id="reg-email-error"></div>
                      </div>
                      
                      <div class="form-group mt-2">
                        <input type="password" class="form-style" id="reg-password" placeholder="Mật khẩu (ít nhất 6 ký tự, có chữ hoa, thường, số)" required>
                        <i class="input-icon uil uil-lock-alt"></i>
                        <div class="error-message" id="reg-password-error"></div>
                      </div>
                      
                      <div class="form-group mt-2">
                        <input type="password" class="form-style" id="reg-confirm-password" placeholder="Xác nhận mật khẩu" required>
                        <i class="input-icon uil uil-lock-alt"></i>
                        <div class="error-message" id="reg-confirm-password-error"></div>
                      </div>
                      
                      <div class="success-message" id="register-success"></div>
                      <div class="error-message" id="register-error"></div>
                      
                      <a href="#" class="btn mt-4" onclick="registerUser()" id="register-btn">
                        Đăng Ký
                        <div class="loading-spinner">
                          <i class="uil uil-spinner uil-spin"></i>
                        </div>
                      </a>
                    </div>
                  </div>
                </div>

              </div> 
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="../JS/auth.js"></script>
  <script>
    // Handle hash-based navigation for login/register forms
    window.addEventListener('load', function() {
      const hash = window.location.hash;
      const checkbox = document.getElementById('reg-log');
      
      if (hash === '#register-form') {
        // Show register form (flip to back)
        checkbox.checked = true;
      } else {
        // Show login form (default, front)
        checkbox.checked = false;
      }
    });

    // Handle hash changes (if user changes URL)
    window.addEventListener('hashchange', function() {
      const hash = window.location.hash;
      const checkbox = document.getElementById('reg-log');
      
      if (hash === '#register-form') {
        checkbox.checked = true;
      } else {
        checkbox.checked = false;
      }
    });
  </script>
</body>
</html>
